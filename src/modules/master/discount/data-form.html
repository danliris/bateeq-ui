<template>
    <au-input-form title.bind="title" with.bind="context">

        <div slot="actions" class="btn-group">
            <button class="btn btn-default" click.delegate="context.cancel($event)" if.one-way="context.hasCancel">Kembali</button>
            <button class="btn btn-primary" click.delegate="context.edit($event)" if.one-way="context.hasEdit">Ubah</button>
            <button class="btn btn-success" click.delegate="context.save($event)" if.one-way="context.hasSave">Simpan</button>
            <button class="btn btn-danger" click.delegate="context.delete($event)" if.one-way="context.hasDelete">Hapus</button>
        </div>

        <numeric 
            label="Diskon 1 (%)" 
            value.bind="data.discountOne" 
            error.bind="error.Discount" 
            format="0"
            placeholder ="discount"
            read-only.bind="readOnlyDiscount"
            post-fix="%">
        </numeric>

        <numeric 
            label="Diskon 2 (%)" 
            value.bind="data.discountTwo" 
            error.bind="error.Discount" 
            format="0"
            placeholder ="discount"
            read-only.bind="readOnlyDiscount"
            post-fix="%">
        </numeric>

        <au-datepicker 
            label="Mulai Berlaku" 
            value.bind="data.startDate" 
            error.bind="error.StartDate" 
            read-only.bind="readOnly"
            options.bind="controlOptions">
        </au-datepicker>

        <au-datepicker 
            label="Berlaku Hingga" 
            value.bind="data.endDate" 
            error.bind="error.EndDate" 
            read-only.bind="readOnly"
            options.bind="controlOptions">
        </au-datepicker>

        <au-dropdown 
            label="Kategori Toko" 
            value.bind="data.storeCategory" 
            error.bind="error.StoreCategory" 
            read-only.bind="readOnly"
            items.bind="storeCategoryOptions" 
            change.delegate="storeCategoryChanged($event)" 
            options.bind="controlOptions">
        </au-dropdown>

        <au-dropdown 
            label="Toko" 
            value.bind="data.store.name" 
            error.bind="error.store" 
            read-only.bind="readOnly" 
            items.bind="storeNameOptions"
            options.bind="controlOptions">
        </au-dropdown>
        <multiline label="Keterangan" value.bind="data.information" error.bind="error.information" read-only.bind="readOnly" ></multiline>

        


        <au-collection 
              items.bind="data.items" 
              errors.bind="error.items" 
              columns.bind="itemsColumns.columns" 
              add.bind="itemsColumns.onAdd"
              read-only.bind="readOnly"
              options.bind="detailOptions"
              item-template="modules/master/discount/template/ro-item">
        </au-collection>
    </au-input-form>
</template>